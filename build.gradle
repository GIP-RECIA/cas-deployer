import org.gradle.internal.os.OperatingSystem
/*
 * This file was generated by the Gradle 'init' task.
 *
 * This is a general purpose Gradle build.
 * Learn how to create Gradle builds at https://guides.gradle.org/creating-new-gradle-builds
 */

plugins {
    // Records all tasks in task graph, generates `build/reports/visteg.dot`
    // dot file can be converted to an image using graphviz. `dot -Tsvg -O -v visteg.dot`
    // id 'cz.malohlava' version '1.0.3'

    //id 'net.foragerr.jmeter' version '1.1.0-4.0'
}

apply plugin: "eclipse"
apply plugin: "idea"

ext {
    /*
     * We need to define the buildProperties extended property here in order for the
     * build to compile.  It will be bootstrapped during the Gradle initialization phase.
     */
    buildProperties = new Properties()

    /*
      * Unfortunately, several of the uPortal CLI tasks need to do
      * significantly different things on different operating systems.
      */
     isWindows = OperatingSystem.current().isWindows()
}


eclipse {
    classpath {
       downloadSources = true
       downloadJavadoc = true
    }
}

idea {
    module {
        downloadJavadoc = true
        downloadSources = true
    }
}

apply from: rootProject.file('gradle/tasks/properties.gradle')
apply from: rootProject.file('gradle/tasks/tomcat.gradle')

/*
 * If gradle/tasks/custom.gradle exists, tasks from that
 * file will be made available
 */
File customTasks = rootProject.file('gradle/tasks/custom.gradle')

if(customTasks.isFile()) {
    apply from: customTasks
}


apply plugin: 'java'
compileJava {
    dependsOn javaVersionCheck
}